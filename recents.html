<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DocuWrite Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
            color: #334155;
            -webkit-tap-highlight-color: transparent;
        }
        .tool-card {
            background: white;
            border-radius: 12px;
            padding: 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            border: 1px solid #e2e8f0;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
            height: 110px;
        }
        .tool-card:active {
            transform: scale(0.97);
            background-color: #f1f5f9;
        }
        .tool-card:hover {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            border-color: #cbd5e1;
            transform: translateY(-2px);
        }
        .tool-icon {
            font-size: 32px;
            color: #3b82f6;
            margin-bottom: 8px;
        }
        .tool-name {
            font-size: 12px;
            font-weight: 500;
            line-height: 1.2;
            color: #475569;
        }
        /* Star Icon Styling */
        .star-icon {
            position: absolute;
            top: 8px;
            right: 8px;
            font-size: 20px;
            color: #cbd5e1;
            transition: all 0.2s;
            z-index: 10; /* Ensure it sits above the card click area */
            padding: 4px; /* Increase click target area */
            border-radius: 50%;
        }
        .star-icon:hover {
            background-color: rgba(0,0,0,0.05);
            color: #94a3b8;
        }
        .star-icon.active {
            color: #fbbf24;
            font-variation-settings: 'FILL' 1;
            transform: scale(1.1);
        }
        
        /* Banner Animation */
        #adBanner {
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            max-height: 500px;
            opacity: 1;
            overflow: hidden;
        }
        #adBanner.hidden-banner {
            max-height: 0;
            opacity: 0;
            padding-top: 0 !important;
            padding-bottom: 0 !important;
            margin: 0 !important;
            border: none !important;
        }

        /* Hide scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-thumb {
            background-color: #cbd5e1;
            border-radius: 3px;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col w-full bg-white text-slate-800">

    <!-- Main Content Wrapper -->
    <div class="flex-1 flex flex-col p-4 md:p-6 space-y-6 w-full">

        <!-- Top Header -->
        <div class="flex justify-between items-center py-1">
            <h1 class="text-2xl md:text-3xl font-bold text-slate-800 tracking-tight">DocuWrite <span class="text-blue-500">Pro</span></h1>
            <button class="p-2 rounded-full hover:bg-slate-100 transition-colors" onclick="location.reload()">
                <span class="material-symbols-outlined text-slate-500">refresh</span>
            </button>
        </div>

        <!-- Ad Banner -->
        <div id="adBanner" class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-6 md:p-8 border border-blue-200 shadow-sm relative group cursor-pointer" onclick="window.location.href='https://mahi902.github.io/Aurora/pollinatedai.html'">
            <!-- Close Button -->
            <button onclick="dismissBanner(event)" class="absolute top-2 right-2 p-2 rounded-full bg-white/50 hover:bg-white text-blue-800 z-20 transition-all hover:shadow-sm">
                <span class="material-symbols-outlined text-lg font-bold">close</span>
            </button>

            <div class="absolute top-0 right-0 -mt-4 -mr-4 w-32 h-32 bg-blue-200 rounded-full opacity-50 blur-3xl"></div>
            <h2 class="text-xl md:text-2xl font-bold text-blue-900 mb-2 relative z-10">Try Pollinated AI</h2>
            <p class="text-base text-blue-700 leading-relaxed relative z-10 max-w-2xl">Try the new Pollinated AI. Generate text, images and webpages with the power of next-gen generative models.</p>
            <span class="material-symbols-outlined absolute bottom-6 right-6 text-blue-300 text-5xl group-hover:text-blue-400 transition-colors">auto_awesome</span>
        </div>

        <!-- Dynamic Main Buttons -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <!-- Row 1 -->
            <div id="row-1-container" class="w-full">
                <button onclick="transformRow1()" class="w-full bg-blue-600 text-white font-semibold py-5 rounded-xl shadow-lg shadow-blue-200 hover:bg-blue-700 active:scale-[0.99] transition-all flex items-center justify-center gap-2 h-20">
                    <span class="material-symbols-outlined text-3xl">add</span> 
                    <span class="text-lg">New Document</span>
                </button>
            </div>
            <!-- Row 2 -->
            <div id="row-2-container" class="flex w-full h-20 rounded-xl overflow-hidden shadow-md cursor-pointer">
                <div onclick="transformRow2('image')" class="w-1/2 bg-sky-100 hover:bg-sky-200 text-sky-700 flex items-center justify-center gap-2 transition-colors relative group">
                    <span class="material-symbols-outlined text-2xl">image</span> 
                    <span class="font-medium text-base">Image Editing</span>
                </div>
                <div onclick="transformRow2('code')" class="w-1/2 bg-slate-800 hover:bg-slate-700 text-slate-300 opacity-90 flex items-center justify-center gap-2 transition-colors">
                    <span class="material-symbols-outlined text-2xl">code</span>
                    <span class="font-medium text-base">Code Editing</span>
                </div>
            </div>
        </div>

        <!-- Secondary Banner -->
        <div class="pt-2">
            <div class="flex items-center gap-2 mb-4 px-1">
                <span class="material-symbols-outlined text-purple-500 text-2xl">auto_awesome</span>
                <h3 class="font-bold text-xl text-slate-700">AI Powered Tools</h3>
            </div>
            <div class="grid grid-cols-3 md:grid-cols-6 gap-4">
                <a href="https://mahi902.github.io/Aurora/pollinatedai.html" class="flex flex-col items-center justify-center p-4 bg-purple-50 rounded-xl border border-purple-100 hover:bg-purple-100 transition-colors text-center h-28">
                    <span class="material-symbols-outlined text-purple-600 mb-2 text-3xl">psychology</span>
                    <span class="text-sm font-semibold text-purple-800">Pollinated AI</span>
                </a>
                <a href="https://mahi902.github.io/DocuWritePro/image-generator.html" class="flex flex-col items-center justify-center p-4 bg-pink-50 rounded-xl border border-pink-100 hover:bg-pink-100 transition-colors text-center h-28">
                    <span class="material-symbols-outlined text-pink-600 mb-2 text-3xl">photo_library</span>
                    <span class="text-sm font-semibold text-pink-800">Image Gen</span>
                </a>
                <a href="https://mahi902.github.io/DocuWritePro/wawm.html" class="flex flex-col items-center justify-center p-4 bg-indigo-50 rounded-xl border border-indigo-100 hover:bg-indigo-100 transition-colors text-center h-28">
                    <span class="material-symbols-outlined text-indigo-600 mb-2 text-3xl">web</span>
                    <span class="text-sm font-semibold text-indigo-800">WebGen</span>
                </a>
            </div>
        </div>

        <!-- Tools Section -->
        <div class="pt-6" id="tools-section">
            <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-5 gap-4">
                <h3 class="font-bold text-slate-800 text-xl px-1">Tools</h3>
                <div class="relative w-full md:w-96">
                    <span class="material-symbols-outlined absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400">search</span>
                    <input type="text" id="toolSearch" placeholder="Search tools..." class="w-full bg-slate-100 border-none rounded-xl py-3 pl-10 pr-4 text-sm focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all outline-none text-slate-700 placeholder-slate-400">
                </div>
            </div>

            <div class="tools-container grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-8 gap-4" id="toolsContainer">
                <!-- NOTE: Added onclick="toggleStar(event, this)" to stars and preventDefault to card clicks via JS -->
                
                <!-- Document Editing Tools -->
                <div class="tool-card" data-tool-name="Editor" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/document-writer.html')">
                    <span class="material-symbols-outlined tool-icon">edit</span><div class="tool-name">Editor</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="Document Viewer" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/viewer.html')">
                    <span class="material-symbols-outlined tool-icon">visibility</span><div class="tool-name">Document Viewer</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="Word Finder" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/word-description-finder.html')">
                    <span class="material-symbols-outlined tool-icon">menu_book</span><div class="tool-name">Word Finder</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="Translator" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/translator.html')">
                    <span class="material-symbols-outlined tool-icon">language</span><div class="tool-name">Translator</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="Document Signer" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/document-signer.html')">
                    <span class="material-symbols-outlined tool-icon">draw</span><div class="tool-name">Document Signer</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="Find & Replacer" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/findandreplacer.html')">
                    <span class="material-symbols-outlined tool-icon">find_replace</span><div class="tool-name">Find & Replacer</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="Page Number Adder" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/page-number-adder.html')">
                    <span class="material-symbols-outlined tool-icon">format_list_numbered</span><div class="tool-name">Page Number Adder</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="Reorder & Merge" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/rm.html')">
                    <span class="material-symbols-outlined tool-icon">layers</span><div class="tool-name">Reorder & Merge</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="Chart Maker" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/chart-maker.html')">
                    <span class="material-symbols-outlined tool-icon">bar_chart</span><div class="tool-name">Chart Maker</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="Graph Maker" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/graphmaker.html')">
                    <span class="material-symbols-outlined tool-icon">query_stats</span><div class="tool-name">Graph Maker</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="Whiteboard" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/whiteboard.html')">
                    <span class="material-symbols-outlined tool-icon">ad</span><div class="tool-name">Whiteboard</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="Mind Map Maker" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/mmm.html')">
                    <span class="material-symbols-outlined tool-icon">graph_2</span><div class="tool-name">Mind Map Maker</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="Table Maker" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/table-maker.html')">
                    <span class="material-symbols-outlined tool-icon">table_chart</span><div class="tool-name">Table Maker</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="Watermark Adder" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/watermarker.html')">
                    <span class="material-symbols-outlined tool-icon">filter_alt</span><div class="tool-name">Watermark Adder</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="Email Writer" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/email-writer.html')">
                    <span class="material-symbols-outlined tool-icon">email</span><div class="tool-name">Email Writer</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="Spell Checker" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/spell-checker.html')">
                    <span class="material-symbols-outlined tool-icon">spellcheck</span><div class="tool-name">Spell Checker</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="File Extractor" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/file-extractor.html')">
                    <span class="material-symbols-outlined tool-icon">unarchive</span><div class="tool-name">File Extractor</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="QR Maker" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/qr-code-maker.html')">
                    <span class="material-symbols-outlined tool-icon">qr_code</span><div class="tool-name">QR Maker</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="ID Card Maker" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/id-card-maker.html')">
                    <span class="material-symbols-outlined tool-icon">badge</span><div class="tool-name">ID Card Maker</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="File Zipper" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/file-zipper.html')">
                    <span class="material-symbols-outlined tool-icon">archive</span><div class="tool-name">File Zipper</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="PDF Converter" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/converters.html')">
                    <span class="material-symbols-outlined tool-icon">picture_as_pdf</span><div class="tool-name">PDF Converter</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="PDF Compressor" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/pdfcompressor.html')">
                    <span class="material-symbols-outlined tool-icon">compress</span><div class="tool-name">PDF Compressor</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="Context Field" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/context-field.html')">
                    <span class="material-symbols-outlined tool-icon">summarize</span><div class="tool-name">Context Field</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="Gift Card Maker" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/gift-card-maker.html')">
                    <span class="material-symbols-outlined tool-icon">card_giftcard</span><div class="tool-name">Gift Card Maker</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="Share File" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/docudrop.html')">
                    <span class="material-symbols-outlined tool-icon">file_upload</span><div class="tool-name">Share File</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="Text Extractor" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/text-extractor.html')">
                    <span class="material-symbols-outlined tool-icon">document_scanner</span><div class="tool-name">Text Extractor</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="Keyboard Click Test" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/keyboard-click-test.html')">
                    <span class="material-symbols-outlined tool-icon">keyboard</span><div class="tool-name">Keyboard Click Test</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>

                <!-- Code Editing Tools -->
                <div class="tool-card" data-tool-name="Frontend IDE" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/frontend-ide.html')">
                    <span class="material-symbols-outlined tool-icon">developer_mode</span><div class="tool-name">Frontend IDE</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="HTML Editor" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/code-playground.html')">
                    <span class="material-symbols-outlined tool-icon">code</span><div class="tool-name">HTML Editor</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="HTML Writer" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/html.html')">
                    <span class="material-symbols-outlined tool-icon">html</span><div class="tool-name">HTML Writer</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="Website Generator" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/wawm.html')">
                    <span class="material-symbols-outlined tool-icon">web</span><div class="tool-name">Website Generator</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="Markdown Editor" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/mdeditor.html')">
                    <span class="material-symbols-outlined tool-icon">markdown</span><div class="tool-name">Markdown Editor</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="Button Designer" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/button-designer.html')">
                    <span class="material-symbols-outlined tool-icon">smart_button</span><div class="tool-name">Button Designer</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="HTML Splitter" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/html-splitter.html')">
                    <span class="material-symbols-outlined tool-icon">integration_instructions</span><div class="tool-name">HTML Splitter</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="GoTo Code" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/goto-code.html')">
                    <span class="material-symbols-outlined tool-icon">merge</span><div class="tool-name">GoTo Code</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="Code Snipper" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/code-snipper.html')">
                    <span class="material-symbols-outlined tool-icon">content_cut</span><div class="tool-name">Code Snipper</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>

                <!-- Image Editing Tools -->
                <div class="tool-card" data-tool-name="Image Editor" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/image-editor.html')">
                    <span class="material-symbols-outlined tool-icon">collections</span><div class="tool-name">Image Editor</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="Attribution Editor" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/atbedt.html')">
                    <span class="material-symbols-outlined tool-icon">display_settings</span><div class="tool-name">Attribution Editor</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="Image Generator" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/image-generator.html')">
                    <span class="material-symbols-outlined tool-icon">auto_awesome</span><div class="tool-name">Image Generator</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
                <div class="tool-card" data-tool-name="Drawing Board" onclick="handleToolClick('https://mahi902.github.io/DocuWritePro/draw.html')">
                    <span class="material-symbols-outlined tool-icon">brush</span><div class="tool-name">Drawing Board</div>
                    <span class="material-symbols-outlined star-icon" onclick="toggleStar(event, this)">star</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- Local Storage Keys ---
        const STORAGE_KEY_STARS = 'docuwrite_starred_tools';
        const STORAGE_KEY_BANNER = 'docuwrite_banner_hidden_until';

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            checkBannerStatus();
            initializeStars();
        });

        // --- Banner Logic ---
        function checkBannerStatus() {
            const hiddenUntil = localStorage.getItem(STORAGE_KEY_BANNER);
            const banner = document.getElementById('adBanner');
            
            if (hiddenUntil && Date.now() < parseInt(hiddenUntil)) {
                // If hidden time hasn't passed yet, keep it hidden (no animation on load)
                banner.style.display = 'none';
            }
        }

        function dismissBanner(event) {
            event.stopPropagation(); // Prevent ad click
            const banner = document.getElementById('adBanner');
            
            // Animate Close
            banner.classList.add('hidden-banner');
            
            // Set timer for 5 minutes (5 * 60 * 1000 ms)
            const fiveMinutesFromNow = Date.now() + (5 * 60 * 1000);
            localStorage.setItem(STORAGE_KEY_BANNER, fiveMinutesFromNow.toString());
            
            // Remove from flow after animation
            setTimeout(() => {
                banner.style.display = 'none';
            }, 500);
        }

        // --- Starred Tools Logic ---
        function getStarredTools() {
            const stars = localStorage.getItem(STORAGE_KEY_STARS);
            return stars ? JSON.parse(stars) : [];
        }

        function initializeStars() {
            const starredTools = getStarredTools();
            const toolsContainer = document.getElementById('toolsContainer');
            const allTools = Array.from(toolsContainer.children);

            // Update visual state
            allTools.forEach(card => {
                const toolName = card.getAttribute('data-tool-name');
                const starIcon = card.querySelector('.star-icon');
                if (starredTools.includes(toolName)) {
                    starIcon.classList.add('active');
                }
            });

            sortTools();
        }

        function toggleStar(event, element) {
            event.stopPropagation(); // CRITICAL: Prevents triggering the tool card click
            
            const card = element.closest('.tool-card');
            const toolName = card.getAttribute('data-tool-name');
            let starredTools = getStarredTools();

            // Toggle state
            if (starredTools.includes(toolName)) {
                starredTools = starredTools.filter(name => name !== toolName);
                element.classList.remove('active');
            } else {
                starredTools.push(toolName);
                element.classList.add('active');
            }

            // Save
            localStorage.setItem(STORAGE_KEY_STARS, JSON.stringify(starredTools));

            // Re-sort
            sortTools();
        }

        function sortTools() {
            const toolsContainer = document.getElementById('toolsContainer');
            const allTools = Array.from(toolsContainer.children);
            const starredTools = getStarredTools();

            // Separate starred and unstarred
            const starredElements = [];
            const unstarredElements = [];

            allTools.forEach(card => {
                const toolName = card.getAttribute('data-tool-name');
                if (starredTools.includes(toolName)) {
                    starredElements.push(card);
                } else {
                    unstarredElements.push(card);
                }
            });

            // Clear container
            toolsContainer.innerHTML = '';

            // Re-append in order: Starred first, then unstarred
            // (Preserve internal relative order for both groups)
            starredElements.forEach(card => toolsContainer.appendChild(card));
            unstarredElements.forEach(card => toolsContainer.appendChild(card));
        }

        // --- Navigation Handler ---
        function handleToolClick(url) {
            window.location.href = url;
        }

        // --- Existing Button Logic ---
        const row1Container = document.getElementById('row-1-container');
        const row2Container = document.getElementById('row-2-container');

        function transformRow1() {
            row1Container.innerHTML = `
                <div class="flex gap-4 w-full animate-fade-in h-20">
                    <a href="https://mahi902.github.io/DocuWritePro/document-writer.html" class="flex-1 bg-blue-50 border border-blue-200 text-blue-700 font-medium py-4 rounded-xl shadow-sm hover:bg-blue-100 transition-colors flex flex-col items-center justify-center gap-1">
                        <span class="material-symbols-outlined text-2xl">edit_document</span>
                        <span class="text-base">Default Editor</span>
                    </a>
                    <a href="https://mahi902.github.io/DocuWritePro/collab-document-editor.html" class="flex-1 bg-blue-50 border border-blue-200 text-blue-700 font-medium py-4 rounded-xl shadow-sm hover:bg-blue-100 transition-colors flex flex-col items-center justify-center gap-1">
                        <span class="material-symbols-outlined text-2xl">group</span>
                        <span class="text-base">Collab Editor</span>
                    </a>
                </div>
            `;
        }

        function transformRow2(type) {
            if (type === 'image') {
                row2Container.outerHTML = `
                    <div id="row-2-container" class="flex gap-4 w-full animate-fade-in h-20">
                        <a href="https://mahi902.github.io/DocuWritePro/image-editor.html" class="flex-1 bg-sky-50 border border-sky-200 text-sky-700 font-medium py-4 rounded-xl shadow-sm hover:bg-sky-100 transition-colors flex flex-col items-center justify-center gap-1">
                            <span class="material-symbols-outlined text-2xl">photo_size_select_large</span>
                            <span class="text-base">Image Editor</span>
                        </a>
                        <a href="https://mahi902.github.io/DocuWritePro/atbedt.html" class="flex-1 bg-sky-50 border border-sky-200 text-sky-700 font-medium py-4 rounded-xl shadow-sm hover:bg-sky-100 transition-colors flex flex-col items-center justify-center gap-1">
                            <span class="material-symbols-outlined text-2xl">attribution</span>
                            <span class="text-base">Attribution</span>
                        </a>
                    </div>
                `;
            } else if (type === 'code') {
                row2Container.outerHTML = `
                    <div id="row-2-container" class="flex gap-2 w-full animate-fade-in h-20">
                        <a href="https://mahi902.github.io/DocuWritePro/code-playground.html" class="flex-1 bg-slate-800 text-slate-200 font-medium rounded-xl shadow-sm hover:bg-slate-700 transition-colors flex flex-col items-center justify-center gap-1 text-center p-1">
                            <span class="material-symbols-outlined text-xl">code</span>
                            <span class="text-xs">HTML Editor</span>
                        </a>
                        <a href="https://mahi902.github.io/DocuWritePro/html.html" class="flex-1 bg-slate-800 text-slate-200 font-medium rounded-xl shadow-sm hover:bg-slate-700 transition-colors flex flex-col items-center justify-center gap-1 text-center p-1">
                            <span class="material-symbols-outlined text-xl">smart_toy</span>
                            <span class="text-xs">HTML AI</span>
                        </a>
                        <a href="https://mahi902.github.io/DocuWritePro/frontend-ide.html" class="flex-1 bg-slate-800 text-slate-200 font-medium rounded-xl shadow-sm hover:bg-slate-700 transition-colors flex flex-col items-center justify-center gap-1 text-center p-1">
                            <span class="material-symbols-outlined text-xl">terminal</span>
                            <span class="text-xs">Frontend IDE</span>
                        </a>
                    </div>
                `;
            }
        }

        const searchInput = document.getElementById('toolSearch');
        const toolsCont = document.getElementById('toolsContainer');
        
        searchInput.addEventListener('keyup', (e) => {
            const term = e.target.value.toLowerCase();
            const cards = toolsCont.querySelectorAll('.tool-card'); // Get dynamic list
            
            cards.forEach(card => {
                const toolName = card.getAttribute('data-tool-name').toLowerCase();
                if (toolName.includes(term)) {
                    card.style.display = 'flex';
                } else {
                    card.style.display = 'none';
                }
            });
        });
    </script>

    <style>
        .animate-fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</body>
</html>
