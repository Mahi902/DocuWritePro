<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Description Finder</title>
    <meta name="description" content="A clean, fast online dictionary and visual word finder.">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Roboto', sans-serif;
            background: #f8f9fa;
            color: #202124;
            line-height: 1.6;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
            transition: background-color 0.3s, color 0.3s;
        }
        
        /* PURE BLACK DARK THEME */
        body.dark-theme {
            background: #000000;
            color: #ffffff;
        }
        
        body.dark-theme .logo h1 {
            color: #ffffff;
        }
        
        body.dark-theme .logo-icon {
            color: #ffffff;
        }
        
        body.dark-theme .search-box {
            background: #000000;
            color: #ffffff;
            border-color: #333333;
        }
        
        body.dark-theme .search-box:focus {
            border-color: #ffffff;
            box-shadow: 0 1px 6px rgba(255, 255, 255, 0.3);
        }
        
        body.dark-theme .search-box::placeholder {
            color: #888888;
        }
        
        body.dark-theme .search-btn {
            background: #ffffff;
            color: #000000;
        }
        
        body.dark-theme .search-btn:hover {
            background: #f0f0f0;
        }
        
        body.dark-theme .result-container {
            background: #000000;
            box-shadow: 0 1px 2px rgba(255, 255, 255, 0.1), 0 1px 3px 1px rgba(255, 255, 255, 0.05);
            border: 1px solid #333333;
        }
        
        body.dark-theme .word-header {
            background: #000000;
            border-color: #333333;
        }
        
        body.dark-theme .word-title {
            color: #ffffff;
        }
        
        body.dark-theme .phonetic {
            color: #cccccc;
        }
        
        body.dark-theme .audio-btn {
            background: #ffffff;
            color: #000000;
        }
        
        body.dark-theme .audio-btn:hover {
            background: #f0f0f0;
        }
        
        body.dark-theme .part-of-speech {
            background: #222222;
            color: #ffffff;
            border: 1px solid #333333;
        }
        
        body.dark-theme .definition {
            color: #ffffff;
        }
        
        body.dark-theme .definition:before {
            color: #cccccc;
        }
        
        body.dark-theme .example {
            color: #cccccc;
        }
        
        body.dark-theme .synonyms-antonyms {
            background: #000000;
            border-color: #333333;
        }
        
        body.dark-theme .synonyms h4, 
        body.dark-theme .antonyms h4 {
            color: #ffffff;
        }
        
        body.dark-theme .tag {
            background: #222222;
            color: #ffffff;
            border: 1px solid #333333;
        }
        
        body.dark-theme .section-title {
            background: #000000;
            border-color: #333333;
            color: #ffffff;
        }
        
        body.dark-theme .image-card {
            background: #000000;
            border: 1px solid #333333;
        }
        
        body.dark-theme .placeholder {
            color: #888888;
        }
        
        body.dark-theme .placeholder .material-icons {
            color: #333333;
        }
        
        body.dark-theme .error-message {
            background: #330000;
            color: #ff9999;
            border: 1px solid #660000;
        }
        
        body.dark-theme .spinner {
            border: 5px solid rgba(255, 255, 255, 0.1);
            border-top-color: #ffffff;
        }
        
        /* Dark theme toggle button */
        .theme-toggle {
            position: relative;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: transparent;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s;
        }
        
        .theme-toggle:hover {
            background: rgba(0, 0, 0, 0.1);
        }
        
        body.dark-theme .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .theme-icon {
            font-size: 24px;
            color: #5f6368;
            transition: transform 0.3s, color 0.3s;
        }
        
        body.dark-theme .theme-icon {
            color: #ffffff;
        }
        
        .theme-toggle:hover .theme-icon {
            color: #1a73e8;
        }
        
        body.dark-theme .theme-toggle:hover .theme-icon {
            color: #ffffff;
        }
        
        /* Rotate animation for smooth transition */
        .theme-icon.rotate {
            transform: rotate(360deg);
        }
        
        /* Rest of your existing styles remain the same */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid #dadce0;
            margin-bottom: 30px;
        }
        
        body.dark-theme header {
            border-color: #333333;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .logo h1 {
            font-weight: 500;
            font-size: 28px;
            color: #1a73e8;
        }
        
        .logo-icon {
            color: #1a73e8;
            font-size: 32px;
        }
        
        .search-container {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            position: relative;
        }
        
        .search-box {
            flex: 1;
            padding: 16px 20px;
            font-size: 18px;
            border: 1px solid #dadce0;
            border-radius: 8px;
            outline: none;
            transition: all 0.3s;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }
        
        .search-box:focus {
            border-color: #1a73e8;
            box-shadow: 0 1px 6px rgba(66,133,244,0.3);
        }
        
        .search-btn {
            background: #1a73e8;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 0 30px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: background 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .search-btn:hover {
            background: #1765cc;
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 40px;
        }
        
        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(66,133,244,0.2);
            border-top-color: #1a73e8;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .result-container {
            display: none;
            background: white;
            border-radius: 8px;
            box-shadow: 0 1px 2px rgba(60,64,67,0.3), 0 1px 3px 1px rgba(60,64,67,0.15);
            overflow: hidden;
            margin-bottom: 30px;
        }
        
        .word-header {
            background: #f8f9fa;
            padding: 20px;
            border-bottom: 1px solid #dadce0;
        }
        
        .word-title {
            font-size: 36px;
            font-weight: 500;
            margin-bottom: 5px;
            color: #202124;
            text-transform: capitalize;
        }
        
        .phonetic {
            font-size: 18px;
            color: #5f6368;
            margin-bottom: 10px;
        }
        
        .audio-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .audio-btn {
            background: #1a73e8;
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }
        
        .part-of-speech {
            display: inline-block;
            background: #e8f0fe;
            color: #1a73e8;
            padding: 4px 12px;
            border-radius: 16px;
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 15px;
            margin-left: 20px;
            margin-top: 15px;
        }
        
        .definition {
            padding: 10px 20px;
            font-size: 18px;
            line-height: 1.6;
            color: #202124;
            position: relative;
            padding-left: 45px;
        }
        
        .definition:before {
            content: "â€¢";
            position: absolute;
            left: 25px;
            color: #5f6368;
        }
        
        .example {
            padding: 5px 20px;
            font-size: 16px;
            line-height: 1.6;
            color: #5f6368;
            font-style: italic;
            position: relative;
            padding-left: 45px;
            margin-bottom: 10px;
        }
        
        .synonyms-antonyms {
            display: flex;
            gap: 20px;
            padding: 20px;
            background: #fff;
            border-top: 1px solid #eee;
            flex-wrap: wrap;
        }
        
        .synonyms h4, .antonyms h4 {
            font-size: 16px;
            font-weight: 500;
            margin-bottom: 8px;
            color: #202124;
        }
        
        .tag {
            display: inline-block;
            background: #f1f3f4;
            color: #202124;
            padding: 4px 12px;
            border-radius: 16px;
            font-size: 14px;
            margin-right: 8px;
            margin-bottom: 8px;
        }
        
        .section-title {
            font-size: 20px;
            font-weight: 500;
            padding: 15px 20px;
            background: #f8f9fa;
            border-top: 1px solid #dadce0;
            border-bottom: 1px solid #dadce0;
        }
        
        .images-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            padding: 20px;
        }
        
        .image-card {
            border-radius: 8px;
            overflow: hidden;
            height: 200px;
            background: #eee;
            position: relative;
        }
        
        .image-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .image-overlay {
            position: absolute;
            bottom: 0;
            background: rgba(0,0,0,0.6);
            color: white;
            width: 100%;
            padding: 5px 10px;
            font-size: 11px;
        }
        
        .placeholder {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #5f6368;
            padding: 80px 20px;
            text-align: center;
        }
        
        .error-message {
            display: none;
            background: #fce8e6;
            color: #d93025;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
        }

        @media (max-width: 600px) {
            .search-container { flex-direction: column; }
            .images-container { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <span class="material-icons logo-icon">menu_book</span>
            <h1>Word Finder</h1>
        </div>
        <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
            <span class="material-icons theme-icon" id="theme-icon">dark_mode</span>
        </button>
    </header>
    
    <div class="search-container">
        <input type="text" class="search-box" id="word-input" placeholder="Search for a word (e.g. 'Ocean')">
        <button class="search-btn" id="search-btn">
            <span class="material-icons">search</span>
            Search
        </button>
    </div>
    
    <div class="error-message" id="error-message"></div>
    
    <div class="loading" id="loading">
        <div class="spinner"></div>
        <p>Fetching definitions...</p>
    </div>
    
    <div class="result-container" id="result-container">
        <div class="word-header">
            <h2 class="word-title" id="word-title"></h2>
            <div class="phonetic" id="phonetic"></div>
            <div class="audio-container" id="audio-container">
                <button class="audio-btn" id="audio-btn">
                    <span class="material-icons">volume_up</span>
                </button>
                <span>Listen Pronunciation</span>
            </div>
        </div>
        
        <div id="meanings-container"></div>
        
        <div id="synonyms-antonyms-container" class="synonyms-antonyms" style="display:none;"></div>
        
        <div class="section-title">Visual References (Unsplash)</div>
        <div class="images-container" id="unsplash-images"></div>
    </div>
    
    <div class="placeholder" id="placeholder">
        <span class="material-icons" style="font-size: 64px; color: #dadce0; margin-bottom: 20px;">search</span>
        <p>Type a word above to see meanings, examples, and images.</p>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const searchBtn = document.getElementById('search-btn');
            const wordInput = document.getElementById('word-input');
            const loading = document.getElementById('loading');
            const resultContainer = document.getElementById('result-container');
            const placeholder = document.getElementById('placeholder');
            const errorMessage = document.getElementById('error-message');
            const meaningsContainer = document.getElementById('meanings-container');
            const synAntContainer = document.getElementById('synonyms-antonyms-container');
            const unsplashContainer = document.getElementById('unsplash-images');
            
            const wordTitle = document.getElementById('word-title');
            const phonetic = document.getElementById('phonetic');
            const audioBtn = document.getElementById('audio-btn');
            const audioContainer = document.getElementById('audio-container');
            
            // Dark theme functionality
            const themeToggle = document.getElementById('theme-toggle');
            const themeIcon = document.getElementById('theme-icon');
            const body = document.body;
            
            // Check for saved theme preference or prefer-color-scheme
            const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');
            const savedTheme = localStorage.getItem('theme');
            
            // Set initial theme
            if (savedTheme === 'dark' || (!savedTheme && prefersDarkScheme.matches)) {
                enableDarkTheme();
            }
            
            // Theme toggle click handler
            themeToggle.addEventListener('click', () => {
                const themeIcon = document.getElementById('theme-icon');
                themeIcon.classList.add('rotate');
                
                setTimeout(() => {
                    themeIcon.classList.remove('rotate');
                }, 300);
                
                if (body.classList.contains('dark-theme')) {
                    disableDarkTheme();
                } else {
                    enableDarkTheme();
                }
            });
            
            function enableDarkTheme() {
                body.classList.add('dark-theme');
                themeIcon.textContent = 'light_mode';
                localStorage.setItem('theme', 'dark');
            }
            
            function disableDarkTheme() {
                body.classList.remove('dark-theme');
                themeIcon.textContent = 'dark_mode';
                localStorage.setItem('theme', 'light');
            }
            
            // Listen for system theme changes
            prefersDarkScheme.addEventListener('change', (e) => {
                // Only auto-switch if user hasn't set a preference
                if (!localStorage.getItem('theme')) {
                    if (e.matches) {
                        enableDarkTheme();
                    } else {
                        disableDarkTheme();
                    }
                }
            });
            
            // Public Unsplash Access Key
            const UNSPLASH_KEY = 'zE9SiiMyCl5TxAqvpUIphoUSd72HIHrQFBmwUAm4hAg';

            function searchWord() {
                const word = wordInput.value.trim().toLowerCase();
                if (!word) return;

                // Reset UI
                loading.style.display = 'block';
                resultContainer.style.display = 'none';
                placeholder.style.display = 'none';
                errorMessage.style.display = 'none';
                meaningsContainer.innerHTML = '';
                synAntContainer.innerHTML = '';
                synAntContainer.style.display = 'none';
                unsplashContainer.innerHTML = '';

                // 1. Fetch Dictionary Data
                fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${word}`)
                    .then(res => {
                        if (!res.ok) throw new Error("We couldn't find definitions for that word.");
                        return res.json();
                    })
                    .then(data => {
                        const entry = data[0];
                        wordTitle.textContent = entry.word;
                        phonetic.textContent = entry.phonetic || (entry.phonetics[0] ? entry.phonetics[0].text : '');
                        
                        // Handle Audio
                        const audioObj = entry.phonetics.find(p => p.audio !== "");
                        if (audioObj) {
                            audioContainer.style.display = 'flex';
                            const audio = new Audio(audioObj.audio);
                            audioBtn.onclick = () => audio.play();
                        } else {
                            audioContainer.style.display = 'none';
                        }

                        // Meanings & Examples
                        entry.meanings.forEach(m => {
                            const part = document.createElement('div');
                            part.innerHTML = `<div class="part-of-speech">${m.partOfSpeech}</div>`;
                            m.definitions.slice(0, 3).forEach(d => {
                                const defEl = document.createElement('div');
                                defEl.className = 'definition';
                                defEl.textContent = d.definition;
                                part.appendChild(defEl);
                                if (d.example) {
                                    const exEl = document.createElement('div');
                                    exEl.className = 'example';
                                    exEl.textContent = `"${d.example}"`;
                                    part.appendChild(exEl);
                                }
                            });
                            meaningsContainer.appendChild(part);

                            // Collect Synonyms/Antonyms
                            if (m.synonyms.length > 0 || m.antonyms.length > 0) {
                                synAntContainer.style.display = 'flex';
                                if (m.synonyms.length > 0) {
                                    const box = document.createElement('div');
                                    box.style.flex = "1";
                                    box.innerHTML = '<h4>Synonyms</h4>';
                                    m.synonyms.slice(0, 5).forEach(s => {
                                        box.innerHTML += `<span class="tag">${s}</span>`;
                                    });
                                    synAntContainer.appendChild(box);
                                }
                            }
                        });

                        loading.style.display = 'none';
                        resultContainer.style.display = 'block';
                    })
                    .catch(err => {
                        loading.style.display = 'none';
                        errorMessage.textContent = err.message;
                        errorMessage.style.display = 'block';
                        placeholder.style.display = 'flex';
                    });

                // 2. Fetch Unsplash Images
                fetch(`https://api.unsplash.com/search/photos?query=${word}&per_page=6&client_id=${UNSPLASH_KEY}`)
                    .then(res => res.json())
                    .then(data => {
                        if (data.results && data.results.length > 0) {
                            data.results.forEach(photo => {
                                const card = document.createElement('div');
                                card.className = 'image-card';
                                card.innerHTML = `
                                    <img src="${photo.urls.small}" alt="${word}">
                                    <div class="image-overlay">by ${photo.user.name}</div>
                                `;
                                unsplashContainer.appendChild(card);
                            });
                        } else {
                            unsplashContainer.innerHTML = '<p style="padding: 20px; color: #666;">No images found.</p>';
                        }
                    })
                    .catch(() => {
                        unsplashContainer.innerHTML = '<p style="padding: 20px; color: #666;">Could not load images.</p>';
                    });
            }

            searchBtn.addEventListener('click', searchWord);
            wordInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') searchWord();
            });
        });
    </script>
</body>
</html>
